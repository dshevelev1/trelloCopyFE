{"ast":null,"code":"var _jsxFileName = \"/home/ITRANSITION.CORP/d.shevelev/Desktop/testTaskITr/trelloCopyFE/src/Routes/BoardRoute.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './css/board-route.css';\nimport { Link } from 'react-router-dom';\nimport CreateTaskModal from '../Modals/CreateTaskModal';\nimport Cookies from 'js-cookie';\nimport { TOKEN_COOKIE_NAME } from '../index';\nimport Task from '../Elements/Task';\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction BoardRoute() {\n  _s();\n\n  const urlParams = new URLSearchParams(location.search);\n  const boardId = urlParams.get('id');\n  const [todoTasks, setTodoTasks] = useState([]);\n  const [firstTime, initFirstTime] = useState(true);\n\n  const updateTasks = statusId => {\n    /* eslint-disable-next-line @typescript-eslint/no-floating-promises */\n    $.ajax({\n      /* eslint-disable-next-line @typescript-eslint/restrict-plus-operands */\n      url: 'http://localhost:8000/api/boards/' + boardId + '/columns/' + statusId + '/tasks',\n      type: 'GET',\n      crossDomain: true,\n      beforeSend: function (xhr) {\n        /* eslint-disable-next-line @typescript-eslint/restrict-plus-operands */\n        xhr.setRequestHeader('Authorization', 'Bearer ' + Cookies.get(TOKEN_COOKIE_NAME));\n      }\n    }).done(function (response) {\n      if (response.result === 'success') {\n        if (statusId === 1) {\n          setTodoTasks(response.tasks);\n        }\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (firstTime) {\n      updateTasks(1);\n      initFirstTime(false);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: '/main',\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: 'btn btn-primary mb-2',\n        children: \"Go back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: 'btn btn-info mb-2',\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#createTaskModal\",\n      children: \"Create task\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'column-container',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'todo-column',\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"TODO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: todoTasks.map(function (element, i) {\n            return /*#__PURE__*/_jsxDEV(Task, {\n              task: element\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'active-column',\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'closed-column',\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Closed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CreateTaskModal, {\n      boardId: boardId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 10\n  }, this);\n}\n\n_s(BoardRoute, \"5Lo88snXbjBc5T0SQOXXIAtytRM=\");\n\n_c = BoardRoute;\nexport default BoardRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardRoute\");","map":{"version":3,"names":["React","useEffect","useState","Link","CreateTaskModal","Cookies","TOKEN_COOKIE_NAME","Task","$","BoardRoute","urlParams","URLSearchParams","location","search","boardId","get","todoTasks","setTodoTasks","firstTime","initFirstTime","updateTasks","statusId","ajax","url","type","crossDomain","beforeSend","xhr","setRequestHeader","done","response","result","tasks","map","element","i"],"sources":["/home/ITRANSITION.CORP/d.shevelev/Desktop/testTaskITr/trelloCopyFE/src/Routes/BoardRoute.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './css/board-route.css'\nimport { Link } from 'react-router-dom'\nimport CreateTaskModal from '../Modals/CreateTaskModal'\nimport Cookies from 'js-cookie'\nimport { TOKEN_COOKIE_NAME } from '../index'\nimport Task from '../Elements/Task'\nimport $ from 'jquery'\n\nfunction BoardRoute (): JSX.Element {\n  const urlParams = new URLSearchParams(location.search)\n  const boardId = urlParams.get('id')\n  const [todoTasks, setTodoTasks] = useState([])\n  const [firstTime, initFirstTime] = useState(true)\n\n  const updateTasks = (statusId: number): void => {\n    /* eslint-disable-next-line @typescript-eslint/no-floating-promises */\n    $.ajax({\n      /* eslint-disable-next-line @typescript-eslint/restrict-plus-operands */\n      url: 'http://localhost:8000/api/boards/' + boardId + '/columns/' + statusId + '/tasks',\n      type: 'GET',\n      crossDomain: true,\n      beforeSend: function (xhr) {\n        /* eslint-disable-next-line @typescript-eslint/restrict-plus-operands */\n        xhr.setRequestHeader('Authorization', 'Bearer ' + Cookies.get(TOKEN_COOKIE_NAME))\n      }\n    }).done(function (response: any): void {\n      if (response.result === 'success') {\n        if (statusId === 1) {\n          setTodoTasks(response.tasks)\n        }\n      }\n    })\n  }\n\n  useEffect(() => {\n    if (firstTime) {\n      updateTasks(1)\n      initFirstTime(false)\n    }\n  })\n\n  return <div>\n        <Link to={'/main'}>\n          <button className={'btn btn-primary mb-2'}>Go back</button>\n        </Link>\n        <button className={'btn btn-info mb-2'} data-bs-toggle=\"modal\" data-bs-target=\"#createTaskModal\">Create task</button>\n        <div className={'column-container'}>\n        <div className={'todo-column'}>\n          <h3>TODO</h3>\n          <div>\n            { todoTasks.map(function (element: any, i: number) {\n              return <Task task={element} key={i} />\n            }) }\n          </div>\n        </div>\n        <div className={'active-column'}>\n          <h3>Active</h3>\n        </div>\n        <div className={'closed-column'}>\n          <h3>Closed</h3>\n        </div>\n        </div>\n      <CreateTaskModal boardId={boardId}/>\n      </div>\n}\n\nexport default BoardRoute\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}