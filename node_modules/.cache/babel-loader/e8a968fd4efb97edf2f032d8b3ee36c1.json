{"ast":null,"code":"var _jsxFileName = \"/home/ITRANSITION.CORP/d.shevelev/Desktop/testTaskITr/trelloCopyFE/src/Routes/BoardRoute.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './css/board-route.css';\nimport { Link } from 'react-router-dom';\nimport CreateTaskModal from '../Modals/CreateTaskModal';\nimport Cookies from 'js-cookie';\nimport { TOKEN_COOKIE_NAME } from '../index';\nimport Task from '../Elements/Task';\nimport $ from 'jquery';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction BoardRoute() {\n  _s();\n\n  const urlParams = new URLSearchParams(location.search);\n  const boardId = urlParams.get('id');\n  const [todoTasks, setTodoTasks] = useState([]);\n  const [activeTasks, setActiveTasks] = useState([]);\n  const [closedTasks, setClosedTasks] = useState([]);\n  const [firstTime, initFirstTime] = useState(true);\n  const [content, setContent] = useState(\"Drop Something Here\");\n\n  const dragStartHandler = (event, data) => {\n    event.dataTransfer.setData(\"text\", data);\n  };\n\n  const updateAllTasks = () => {\n    updateTasksColumn(1);\n    updateTasksColumn(2);\n    updateTasksColumn(3);\n  };\n\n  const updateTasksColumn = statusId => {\n    /* eslint-disable-next-line @typescript-eslint/no-floating-promises */\n    $.ajax({\n      /* eslint-disable-next-line @typescript-eslint/restrict-plus-operands */\n      url: 'http://localhost:8000/api/boards/' + boardId + '/columns/' + statusId + '/tasks',\n      type: 'GET',\n      crossDomain: true,\n      beforeSend: function (xhr) {\n        /* eslint-disable-next-line @typescript-eslint/restrict-plus-operands */\n        xhr.setRequestHeader('Authorization', 'Bearer ' + Cookies.get(TOKEN_COOKIE_NAME));\n      }\n    }).done(function (response) {\n      if (response.result === 'success') {\n        if (statusId === 1) {\n          setTodoTasks(response.tasks);\n        } else if (statusId === 2) {\n          setActiveTasks(response.tasks);\n        } else {\n          setClosedTasks(response.tasks);\n        }\n      }\n    });\n  };\n\n  useEffect(() => {\n    if (firstTime) {\n      updateAllTasks();\n      initFirstTime(false);\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: '/main',\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: 'btn btn-primary mb-2',\n        children: \"Go back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: 'btn btn-info mb-2',\n      \"data-bs-toggle\": \"modal\",\n      \"data-bs-target\": \"#createTaskModal\",\n      children: \"Create task\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'column-container',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'todo-column',\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"TODO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: todoTasks.map(function (element, i) {\n            return /*#__PURE__*/_jsxDEV(Task, {\n              element: element,\n              boardId: boardId,\n              updateTasks: updateAllTasks\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'active-column',\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: activeTasks.map(function (element, i) {\n            return /*#__PURE__*/_jsxDEV(Task, {\n              element: element,\n              boardId: boardId,\n              updateTasks: updateAllTasks\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: 'closed-column',\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Closed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: closedTasks.map(function (element, i) {\n            return /*#__PURE__*/_jsxDEV(Task, {\n              element: element,\n              boardId: boardId,\n              updateTasks: updateAllTasks\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CreateTaskModal, {\n      boardId: boardId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 10\n  }, this);\n}\n\n_s(BoardRoute, \"DqA5XPZNum1t1oMg78jyi7NFN7Y=\");\n\n_c = BoardRoute;\nexport default BoardRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardRoute\");","map":{"version":3,"names":["React","useEffect","useState","Link","CreateTaskModal","Cookies","TOKEN_COOKIE_NAME","Task","$","BoardRoute","urlParams","URLSearchParams","location","search","boardId","get","todoTasks","setTodoTasks","activeTasks","setActiveTasks","closedTasks","setClosedTasks","firstTime","initFirstTime","content","setContent","dragStartHandler","event","data","dataTransfer","setData","updateAllTasks","updateTasksColumn","statusId","ajax","url","type","crossDomain","beforeSend","xhr","setRequestHeader","done","response","result","tasks","map","element","i"],"sources":["/home/ITRANSITION.CORP/d.shevelev/Desktop/testTaskITr/trelloCopyFE/src/Routes/BoardRoute.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './css/board-route.css'\nimport { Link } from 'react-router-dom'\nimport CreateTaskModal from '../Modals/CreateTaskModal'\nimport Cookies from 'js-cookie'\nimport { TOKEN_COOKIE_NAME } from '../index'\nimport Task from '../Elements/Task'\nimport $ from 'jquery'\n\nfunction BoardRoute (): JSX.Element {\n  const urlParams = new URLSearchParams(location.search)\n  const boardId = urlParams.get('id')\n  const [todoTasks, setTodoTasks] = useState([])\n  const [activeTasks, setActiveTasks] = useState([])\n  const [closedTasks, setClosedTasks] = useState([])\n  const [firstTime, initFirstTime] = useState(true)\n\n  const [content, setContent] = useState<string>(\"Drop Something Here\");\n\n  const dragStartHandler = (\n      event: React.DragEvent<HTMLDivElement>,\n      data: string\n  ) => {\n    event.dataTransfer.setData(\"text\", data);\n  };\n\n  const updateAllTasks = (): void => {\n    updateTasksColumn(1)\n    updateTasksColumn(2)\n    updateTasksColumn(3)\n  }\n\n  const updateTasksColumn = (statusId: number): void => {\n    /* eslint-disable-next-line @typescript-eslint/no-floating-promises */\n    $.ajax({\n      /* eslint-disable-next-line @typescript-eslint/restrict-plus-operands */\n      url: 'http://localhost:8000/api/boards/' + boardId + '/columns/' + statusId + '/tasks',\n      type: 'GET',\n      crossDomain: true,\n      beforeSend: function (xhr) {\n        /* eslint-disable-next-line @typescript-eslint/restrict-plus-operands */\n        xhr.setRequestHeader('Authorization', 'Bearer ' + Cookies.get(TOKEN_COOKIE_NAME))\n      }\n    }).done(function (response: any): void {\n      if (response.result === 'success') {\n        if (statusId === 1) {\n          setTodoTasks(response.tasks)\n        } else if (statusId === 2) {\n          setActiveTasks(response.tasks)\n        } else {\n          setClosedTasks(response.tasks)\n        }\n      }\n    })\n  }\n\n  useEffect(() => {\n    if (firstTime) {\n      updateAllTasks()\n      initFirstTime(false)\n    }\n  })\n\n  return <div>\n        <Link to={'/main'}>\n          <button className={'btn btn-primary mb-2'}>Go back</button>\n        </Link>\n        <button className={'btn btn-info mb-2'} data-bs-toggle=\"modal\" data-bs-target=\"#createTaskModal\">Create task</button>\n        <div className={'column-container'}>\n        <div className={'todo-column'}>\n          <h3>TODO</h3>\n          <div>\n            { todoTasks.map(function (element: any, i: number) {\n              return <Task element={element} boardId={boardId} updateTasks={updateAllTasks} key={i} />\n            }) }\n          </div>\n        </div>\n        <div className={'active-column'}>\n          <h3>Active</h3>\n          <div>\n            { activeTasks.map(function (element: any, i: number) {\n              return <Task element={element} boardId={boardId} updateTasks={updateAllTasks} key={i} />\n            }) }\n          </div>\n        </div>\n        <div className={'closed-column'}>\n          <h3>Closed</h3>\n          <div>\n            { closedTasks.map(function (element: any, i: number) {\n              return <Task element={element} boardId={boardId} updateTasks={updateAllTasks} key={i} />\n            }) }\n          </div>\n        </div>\n        </div>\n      <CreateTaskModal boardId={boardId}/>\n      </div>\n}\n\nexport default BoardRoute\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}